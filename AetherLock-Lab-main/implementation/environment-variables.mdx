---
title: "Environment Variables Reference"
description: "Complete reference for all environment variables used in AetherLock Protocol"
---

# Environment Variables Reference

This document provides a comprehensive reference for all environment variables used across the AetherLock Protocol stack, including frontend, backend, smart contracts, and deployment configurations.

## Overview

Environment variables are used to configure the AetherLock Protocol for different environments (development, staging, production) and to securely manage sensitive information like API keys and private keys.

### Security Best Practices

- **Never commit sensitive values** to version control
- **Use placeholder formats** for documentation
- **Rotate keys regularly** in production
- **Use secret management services** for production deployments
- **Validate environment variables** at application startup
- **Use different values** for each environment

## Frontend Environment Variables

### Application Configuration

#### `NEXT_PUBLIC_APP_NAME`
- **Description**: Application display name
- **Required**: Yes
- **Default**: `AetherLock Protocol`
- **Example**: `AetherLock Protocol`
- **Networks**: All

#### `NEXT_PUBLIC_APP_VERSION`
- **Description**: Application version for display and tracking
- **Required**: Yes
- **Default**: `1.0.0`
- **Example**: `1.2.3`
- **Networks**: All

#### `NEXT_PUBLIC_APP_URL`
- **Description**: Canonical URL of the frontend application
- **Required**: Yes
- **Format**: `https://domain.com`
- **Examples**:
  - Development: `http://localhost:3000`
  - Staging: `https://staging.aetherlock.io`
  - Production: `https://app.aetherlock.io`

### Backend Integration

#### `NEXT_PUBLIC_BACKEND_URL`
- **Description**: Backend API base URL
- **Required**: Yes
- **Format**: `https://api.domain.com`
- **Examples**:
  - Development: `http://localhost:3001`
  - Staging: `https://api-staging.aetherlock.io`
  - Production: `https://api.aetherlock.io`

#### `NEXT_PUBLIC_WS_URL`
- **Description**: WebSocket server URL for real-time updates
- **Required**: Yes
- **Format**: `wss://api.domain.com` or `ws://localhost:port`
- **Examples**:
  - Development: `ws://localhost:3001`
  - Production: `wss://api.aetherlock.io`

### Blockchain Configuration

#### Solana Configuration

#### `NEXT_PUBLIC_SOLANA_NETWORK`
- **Description**: Solana network to connect to
- **Required**: Yes
- **Values**: `mainnet-beta`, `devnet`, `testnet`
- **Examples**:
  - Development: `devnet`
  - Production: `mainnet-beta`

#### `NEXT_PUBLIC_SOLANA_RPC_ENDPOINT`
- **Description**: Solana RPC endpoint URL
- **Required**: Yes
- **Format**: `https://api.network.solana.com`
- **Examples**:
  - Devnet: `https://api.devnet.solana.com`
  - Mainnet: `https://api.mainnet-beta.solana.com`
  - Custom: `https://your-rpc-provider.com`

#### `NEXT_PUBLIC_ESCROW_PROGRAM_ID`
- **Description**: Deployed Solana escrow program ID
- **Required**: Yes
- **Format**: Base58 encoded public key (44 characters)
- **Example**: `AetherLockProgramId1111111111111111111111`
- **Note**: Different for each network deployment

#### ZetaChain Configuration

#### `NEXT_PUBLIC_ZETACHAIN_NETWORK`
- **Description**: ZetaChain network environment
- **Required**: Yes
- **Values**: `mainnet`, `testnet`
- **Examples**:
  - Development: `testnet`
  - Production: `mainnet`

#### `NEXT_PUBLIC_ZETACHAIN_RPC_URL`
- **Description**: ZetaChain RPC endpoint
- **Required**: Yes
- **Format**: `https://rpc.network.com`
- **Examples**:
  - Testnet: `https://zetachain-athens-evm.blockpi.network/v1/rpc/public`
  - Mainnet: `https://zetachain-evm.blockpi.network/v1/rpc/public`

#### `NEXT_PUBLIC_ZETACHAIN_CHAIN_ID`
- **Description**: ZetaChain network chain ID
- **Required**: Yes
- **Type**: Number
- **Examples**:
  - Testnet: `7001`
  - Mainnet: `7000`

#### `NEXT_PUBLIC_UNIVERSAL_APP_ADDRESS`
- **Description**: Deployed ZetaChain Universal App contract address
- **Required**: Yes
- **Format**: Ethereum address (0x + 40 hex characters)
- **Example**: `0x1234567890123456789012345678901234567890`

#### Somnia Configuration

#### `NEXT_PUBLIC_SOMNIA_NETWORK`
- **Description**: Somnia network environment
- **Required**: Yes
- **Values**: `mainnet`, `testnet`
- **Examples**:
  - Development: `testnet`
  - Production: `mainnet`

#### `NEXT_PUBLIC_SOMNIA_RPC_URL`
- **Description**: Somnia RPC endpoint
- **Required**: Yes
- **Format**: `https://rpc.network.com`
- **Examples**:
  - Testnet: `https://testnet.somnia.network`
  - Mainnet: `https://rpc.somnia.network`

#### `NEXT_PUBLIC_SOMNIA_CHAIN_ID`
- **Description**: Somnia network chain ID
- **Required**: Yes
- **Type**: Number
- **Examples**:
  - Testnet: `2647`
  - Mainnet: `2648`

#### TON Configuration

#### `NEXT_PUBLIC_TON_NETWORK`
- **Description**: TON network environment
- **Required**: No
- **Values**: `mainnet`, `testnet`
- **Default**: `mainnet`

#### `NEXT_PUBLIC_TON_RPC_URL`
- **Description**: TON RPC endpoint
- **Required**: No
- **Format**: `https://rpc.network.com`
- **Example**: `https://toncenter.com/api/v2/jsonRPC`

### IPFS Configuration

#### `NEXT_PUBLIC_IPFS_GATEWAY`
- **Description**: IPFS gateway URL for file retrieval
- **Required**: Yes
- **Format**: `https://gateway.domain.com/ipfs/`
- **Examples**:
  - Pinata: `https://gateway.pinata.cloud/ipfs/`
  - IPFS.io: `https://ipfs.io/ipfs/`
  - Cloudflare: `https://cloudflare-ipfs.com/ipfs/`

#### `NEXT_PUBLIC_PINATA_GATEWAY`
- **Description**: Pinata-specific IPFS gateway
- **Required**: No
- **Format**: `https://gateway.pinata.cloud/ipfs/`
- **Example**: `https://gateway.pinata.cloud/ipfs/`

### zkMe Integration

#### `NEXT_PUBLIC_ZKME_APP_ID`
- **Description**: zkMe application ID for KYC integration
- **Required**: Yes
- **Format**: UUID or application-specific ID
- **Example**: `zkme_app_12345678-1234-1234-1234-123456789012`

#### `NEXT_PUBLIC_ZKME_ENVIRONMENT`
- **Description**: zkMe environment configuration
- **Required**: Yes
- **Values**: `production`, `sandbox`
- **Examples**:
  - Development: `sandbox`
  - Production: `production`

### Analytics and Monitoring

#### `NEXT_PUBLIC_GA_MEASUREMENT_ID`
- **Description**: Google Analytics measurement ID
- **Required**: No
- **Format**: `G-XXXXXXXXXX`
- **Example**: `G-ABC123DEF4`

#### `NEXT_PUBLIC_SENTRY_DSN`
- **Description**: Sentry DSN for error tracking
- **Required**: No
- **Format**: `https://key@sentry.io/project-id`
- **Example**: `https://abc123@o123456.ingest.sentry.io/123456`

### Feature Flags

#### `NEXT_PUBLIC_ENABLE_TESTNET`
- **Description**: Enable testnet features and UI elements
- **Required**: No
- **Type**: Boolean
- **Values**: `true`, `false`
- **Default**: `false`

#### `NEXT_PUBLIC_ENABLE_DEBUG`
- **Description**: Enable debug logging and development tools
- **Required**: No
- **Type**: Boolean
- **Values**: `true`, `false`
- **Default**: `false`

#### `NEXT_PUBLIC_ENABLE_ANALYTICS`
- **Description**: Enable analytics tracking
- **Required**: No
- **Type**: Boolean
- **Values**: `true`, `false`
- **Default**: `true`

## Backend Environment Variables

### Server Configuration

#### `NODE_ENV`
- **Description**: Node.js environment mode
- **Required**: Yes
- **Values**: `development`, `staging`, `production`
- **Example**: `production`

#### `PORT`
- **Description**: Server port number
- **Required**: No
- **Type**: Number
- **Default**: `3001`
- **Example**: `3001`

#### `API_VERSION`
- **Description**: API version prefix
- **Required**: No
- **Default**: `v1`
- **Example**: `v1`

### Database Configuration

#### `DATABASE_URL`
- **Description**: PostgreSQL connection string
- **Required**: Yes
- **Format**: `postgresql://user:password@host:port/database`
- **Example**: `postgresql://aetherlock:secure_password@db.example.com:5432/aetherlock_prod`
- **Security**: Use connection pooling and SSL in production

#### `DATABASE_SSL`
- **Description**: Enable SSL for database connections
- **Required**: No
- **Type**: Boolean
- **Values**: `true`, `false`
- **Default**: `true` (production), `false` (development)

#### `DATABASE_POOL_SIZE`
- **Description**: Maximum database connection pool size
- **Required**: No
- **Type**: Number
- **Default**: `10`
- **Example**: `20`

### Cache Configuration

#### `REDIS_URL`
- **Description**: Redis connection string
- **Required**: Yes
- **Format**: `redis://user:password@host:port`
- **Example**: `redis://default:secure_password@cache.example.com:6379`

#### `REDIS_TLS`
- **Description**: Enable TLS for Redis connections
- **Required**: No
- **Type**: Boolean
- **Values**: `true`, `false`
- **Default**: `true` (production), `false` (development)

### Blockchain Configuration

#### Solana Configuration

#### `SOLANA_RPC_URL`
- **Description**: Solana RPC endpoint for backend operations
- **Required**: Yes
- **Format**: `https://api.network.solana.com`
- **Examples**:
  - Devnet: `https://api.devnet.solana.com`
  - Mainnet: `https://api.mainnet-beta.solana.com`

#### `SOLANA_PRIVATE_KEY`
- **Description**: Base58 encoded private key for Solana operations
- **Required**: Yes
- **Format**: Base58 string (87-88 characters)
- **Example**: `[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64]`
- **Security**: Store securely, never commit to version control

#### `ESCROW_PROGRAM_ID`
- **Description**: Solana escrow program ID for backend operations
- **Required**: Yes
- **Format**: Base58 encoded public key
- **Example**: `AetherLockProgramId1111111111111111111111`

#### ZetaChain Configuration

#### `ZETACHAIN_RPC_URL`
- **Description**: ZetaChain RPC endpoint for backend operations
- **Required**: Yes
- **Format**: `https://rpc.network.com`
- **Examples**:
  - Testnet: `https://zetachain-athens-evm.blockpi.network/v1/rpc/public`
  - Mainnet: `https://zetachain-evm.blockpi.network/v1/rpc/public`

#### `ZETACHAIN_PRIVATE_KEY`
- **Description**: Ethereum private key for ZetaChain operations
- **Required**: Yes
- **Format**: Hex string (64 characters, no 0x prefix)
- **Example**: `abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890`
- **Security**: Store securely, never commit to version control

### AWS Configuration

#### `AWS_REGION`
- **Description**: AWS region for Bedrock and other services
- **Required**: Yes
- **Values**: AWS region codes
- **Example**: `us-east-1`

#### `AWS_ACCESS_KEY_ID`
- **Description**: AWS access key ID
- **Required**: Yes
- **Format**: 20-character alphanumeric string
- **Example**: `AKIAIOSFODNN7EXAMPLE`
- **Security**: Use IAM roles in production when possible

#### `AWS_SECRET_ACCESS_KEY`
- **Description**: AWS secret access key
- **Required**: Yes
- **Format**: 40-character base64 string
- **Example**: `wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY`
- **Security**: Store securely, rotate regularly

#### `BEDROCK_MODEL_ID`
- **Description**: AWS Bedrock model identifier for AI verification
- **Required**: Yes
- **Format**: Model ID string
- **Examples**:
  - Claude 3 Sonnet: `anthropic.claude-3-sonnet-20240229-v1:0`
  - Claude 3 Haiku: `anthropic.claude-3-haiku-20240307-v1:0`

### zkMe Integration

#### `ZKME_API_KEY`
- **Description**: zkMe API key for KYC operations
- **Required**: Yes
- **Format**: API key string
- **Example**: `zkme_live_1234567890abcdef1234567890abcdef`
- **Security**: Store securely, different keys for each environment

#### `ZKME_WEBHOOK_SECRET`
- **Description**: Secret for validating zkMe webhook signatures
- **Required**: Yes
- **Format**: Random string (32+ characters)
- **Example**: `whsec_1234567890abcdef1234567890abcdef12345678`
- **Security**: Generate unique secret for each environment

#### `ZKME_ENVIRONMENT`
- **Description**: zkMe environment configuration
- **Required**: Yes
- **Values**: `production`, `sandbox`
- **Examples**:
  - Development: `sandbox`
  - Production: `production`

### IPFS Configuration

#### `PINATA_API_KEY`
- **Description**: Pinata API key for IPFS operations
- **Required**: Yes
- **Format**: API key string
- **Example**: `1234567890abcdef1234567890abcdef`
- **Security**: Store securely, use different keys per environment

#### `PINATA_SECRET_KEY`
- **Description**: Pinata secret key for API authentication
- **Required**: Yes
- **Format**: Secret key string
- **Example**: `abcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890ab`
- **Security**: Store securely, rotate regularly

#### `IPFS_GATEWAY_URL`
- **Description**: IPFS gateway URL for file retrieval
- **Required**: Yes
- **Format**: `https://gateway.domain.com/ipfs/`
- **Example**: `https://gateway.pinata.cloud/ipfs/`

### Security Configuration

#### `JWT_SECRET`
- **Description**: Secret key for JWT token signing
- **Required**: Yes
- **Format**: Random string (32+ characters)
- **Example**: `your_super_secure_jwt_secret_key_here_32_chars_min`
- **Security**: Generate unique secret, store securely

#### `CORS_ORIGINS`
- **Description**: Allowed CORS origins (comma-separated)
- **Required**: Yes
- **Format**: Comma-separated URLs
- **Example**: `https://app.aetherlock.io,https://aetherlock.io`

#### `RATE_LIMIT_WINDOW_MS`
- **Description**: Rate limiting window in milliseconds
- **Required**: No
- **Type**: Number
- **Default**: `900000` (15 minutes)
- **Example**: `900000`

#### `RATE_LIMIT_MAX_REQUESTS`
- **Description**: Maximum requests per rate limit window
- **Required**: No
- **Type**: Number
- **Default**: `100`
- **Example**: `100`

### Monitoring and Logging

#### `LOG_LEVEL`
- **Description**: Application logging level
- **Required**: No
- **Values**: `error`, `warn`, `info`, `debug`
- **Default**: `info`
- **Example**: `info`

#### `SENTRY_DSN`
- **Description**: Sentry DSN for error tracking
- **Required**: No
- **Format**: `https://key@sentry.io/project-id`
- **Example**: `https://abc123@o123456.ingest.sentry.io/123456`

#### `DATADOG_API_KEY`
- **Description**: Datadog API key for metrics and monitoring
- **Required**: No
- **Format**: API key string
- **Example**: `1234567890abcdef1234567890abcdef`

## Smart Contract Environment Variables

### Solana Program Configuration

#### `ANCHOR_PROVIDER_URL`
- **Description**: Solana RPC URL for Anchor deployments
- **Required**: Yes
- **Format**: `https://api.network.solana.com`
- **Examples**:
  - Local: `http://localhost:8899`
  - Devnet: `https://api.devnet.solana.com`
  - Mainnet: `https://api.mainnet-beta.solana.com`

#### `ANCHOR_WALLET`
- **Description**: Path to wallet keypair file for deployments
- **Required**: Yes
- **Format**: File path
- **Example**: `~/.config/solana/id.json`

### ZetaChain Contract Configuration

#### `ZETACHAIN_PRIVATE_KEY`
- **Description**: Private key for ZetaChain contract deployments
- **Required**: Yes
- **Format**: Hex string (64 characters)
- **Example**: `0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890`
- **Security**: Store securely, use different keys per network

#### `ZETACHAIN_RPC_URL`
- **Description**: ZetaChain RPC URL for contract operations
- **Required**: Yes
- **Format**: `https://rpc.network.com`
- **Examples**:
  - Testnet: `https://zetachain-athens-evm.blockpi.network/v1/rpc/public`
  - Mainnet: `https://zetachain-evm.blockpi.network/v1/rpc/public`

## Network-Specific Configurations

### Development Environment

```bash
# Frontend
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_BACKEND_URL=http://localhost:3001
NEXT_PUBLIC_SOLANA_NETWORK=devnet
NEXT_PUBLIC_SOLANA_RPC_ENDPOINT=https://api.devnet.solana.com
NEXT_PUBLIC_ZETACHAIN_NETWORK=testnet
NEXT_PUBLIC_ENABLE_DEBUG=true

# Backend
NODE_ENV=development
DATABASE_URL=postgresql://postgres:password@localhost:5432/aetherlock_dev
REDIS_URL=redis://localhost:6379
SOLANA_RPC_URL=https://api.devnet.solana.com
ZKME_ENVIRONMENT=sandbox
```

### Staging Environment

```bash
# Frontend
NEXT_PUBLIC_APP_URL=https://staging.aetherlock.io
NEXT_PUBLIC_BACKEND_URL=https://api-staging.aetherlock.io
NEXT_PUBLIC_SOLANA_NETWORK=devnet
NEXT_PUBLIC_ZETACHAIN_NETWORK=testnet
NEXT_PUBLIC_ENABLE_DEBUG=false

# Backend
NODE_ENV=staging
DATABASE_URL=postgresql://user:pass@staging-db.example.com:5432/aetherlock_staging
REDIS_URL=redis://user:pass@staging-cache.example.com:6379
ZKME_ENVIRONMENT=sandbox
```

### Production Environment

```bash
# Frontend
NEXT_PUBLIC_APP_URL=https://app.aetherlock.io
NEXT_PUBLIC_BACKEND_URL=https://api.aetherlock.io
NEXT_PUBLIC_SOLANA_NETWORK=mainnet-beta
NEXT_PUBLIC_ZETACHAIN_NETWORK=mainnet
NEXT_PUBLIC_ENABLE_DEBUG=false
NEXT_PUBLIC_ENABLE_ANALYTICS=true

# Backend
NODE_ENV=production
DATABASE_SSL=true
REDIS_TLS=true
ZKME_ENVIRONMENT=production
LOG_LEVEL=warn
```

## Validation and Security

### Environment Variable Validation

Create validation schemas for each component:

#### Frontend Validation (TypeScript)

```typescript
import { z } from 'zod';

const frontendEnvSchema = z.object({
  NEXT_PUBLIC_APP_URL: z.string().url(),
  NEXT_PUBLIC_BACKEND_URL: z.string().url(),
  NEXT_PUBLIC_SOLANA_NETWORK: z.enum(['mainnet-beta', 'devnet', 'testnet']),
  NEXT_PUBLIC_SOLANA_RPC_ENDPOINT: z.string().url(),
  NEXT_PUBLIC_ESCROW_PROGRAM_ID: z.string().min(32).max(44),
});

export const validateFrontendEnv = () => {
  try {
    return frontendEnvSchema.parse(process.env);
  } catch (error) {
    console.error('Frontend environment validation failed:', error);
    process.exit(1);
  }
};
```

#### Backend Validation (Node.js)

```javascript
const Joi = require('joi');

const backendEnvSchema = Joi.object({
  NODE_ENV: Joi.string().valid('development', 'staging', 'production').required(),
  PORT: Joi.number().port().default(3001),
  DATABASE_URL: Joi.string().uri().required(),
  REDIS_URL: Joi.string().uri().required(),
  AWS_REGION: Joi.string().required(),
  AWS_ACCESS_KEY_ID: Joi.string().alphanum().length(20).required(),
  AWS_SECRET_ACCESS_KEY: Joi.string().required(),
});

const validateBackendEnv = () => {
  const { error, value } = backendEnvSchema.validate(process.env);
  if (error) {
    console.error('Backend environment validation failed:', error.message);
    process.exit(1);
  }
  return value;
};
```

### Security Checklist

#### Development
- [ ] Use `.env.local` for local development
- [ ] Never commit `.env` files to version control
- [ ] Use placeholder values in documentation
- [ ] Validate all environment variables at startup

#### Staging
- [ ] Use separate keys/credentials from production
- [ ] Enable debug logging for troubleshooting
- [ ] Use testnet/sandbox environments for external services
- [ ] Implement proper secret rotation

#### Production
- [ ] Use managed secret services (AWS Secrets Manager, etc.)
- [ ] Enable SSL/TLS for all connections
- [ ] Implement proper monitoring and alerting
- [ ] Regular security audits and key rotation
- [ ] Principle of least privilege for all credentials

### Secret Management

#### AWS Secrets Manager

```bash
# Store secret
aws secretsmanager create-secret \
  --name "aetherlock/production/database-url" \
  --secret-string "postgresql://user:pass@host:port/db"

# Retrieve secret
aws secretsmanager get-secret-value \
  --secret-id "aetherlock/production/database-url" \
  --query SecretString --output text
```

#### Vercel Environment Variables

```bash
# Set production environment variable
vercel env add DATABASE_URL production

# Set preview environment variable
vercel env add DATABASE_URL preview

# List all environment variables
vercel env ls
```

#### Docker Secrets

```yaml
# docker-compose.yml
version: '3.8'
services:
  backend:
    image: aetherlock-backend
    environment:
      - DATABASE_URL_FILE=/run/secrets/database_url
    secrets:
      - database_url

secrets:
  database_url:
    file: ./secrets/database_url.txt
```

## Troubleshooting

### Common Issues

1. **Missing Environment Variables**:
   - Check variable names for typos
   - Verify NEXT_PUBLIC_ prefix for frontend variables
   - Ensure variables are set in correct environment

2. **Invalid Format**:
   - Verify URL formats include protocol (https://)
   - Check Base58 encoding for Solana keys
   - Validate hex format for Ethereum keys

3. **Network Mismatches**:
   - Ensure all blockchain variables use same network
   - Verify program/contract IDs match deployment network
   - Check RPC endpoints are accessible

4. **Permission Issues**:
   - Verify AWS IAM permissions for Bedrock access
   - Check API key permissions for external services
   - Ensure wallet has sufficient funds for operations

### Debugging Commands

```bash
# Check environment variables
printenv | grep NEXT_PUBLIC_
printenv | grep DATABASE_

# Validate URLs
curl -I $NEXT_PUBLIC_BACKEND_URL/health
curl -I $NEXT_PUBLIC_SOLANA_RPC_ENDPOINT

# Test database connection
psql $DATABASE_URL -c "SELECT 1;"

# Test Redis connection
redis-cli -u $REDIS_URL ping
```

## Support

For environment variable issues:

- **Documentation**: [Deployment Guides](/implementation)
- **Backend Setup**: [Backend Deployment](/implementation/backend-setup)
- **Frontend Setup**: [Frontend Deployment](/implementation/frontend-setup)
- **Troubleshooting**: [Common Issues](/implementation/troubleshooting)
- **Community**: [Discord Server](https://discord.gg/aetherlock)
- **Issues**: [GitHub Issues](https://github.com/your-org/aetherlock-protocol/issues)